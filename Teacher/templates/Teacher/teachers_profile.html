{% extends template %}
{% load static %}
{% load custom_filters %}
{% block content %}

<style>
    :root {
        --primary-color: #3b82f6;
        --secondary-color: #1d4ed8;
        --accent-color: #60a5fa;
        --success-color: #10b981;
        --warning-color: #f59e0b;
        --danger-color: #ef4444;
        --background-color: #0f172a;
        --card-background: #1e293b;
        --text-primary: #f8fafc;
        --text-secondary: #94a3b8;
        --border-color: #334155;
    }
    body {
        background: var(--background-color);
        color: var(--text-primary);
    }
    .profile-container {
        max-width: 950px;
        margin: 100px auto 40px auto;
        padding: 32px 24px;
    }
    .profile-card {
        background: var(--card-background);
        color: var(--text-primary);
        border-radius: 16px;
        box-shadow: 0 4px 16px 0 rgba(0,0,0,0.12);
        padding: 32px 24px 24px 24px;
        position: relative;
        overflow: hidden;
    }
    .profile-header {
        display: flex;
        align-items: center;
        gap: 32px;
        margin-bottom: 24px;
    }
    .profile-avatar {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        background: var(--accent-color);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 2.5rem;
        color: #fff;
        font-weight: 800;
        box-shadow: 0 2px 8px 0 rgba(59,130,246,0.15);
    }
    .profile-info {
        flex: 1;
    }
    .profile-title {
        color: var(--accent-color);
        font-size: 2rem;
        font-weight: 800;
        margin-bottom: 8px;
    }
    .profile-meta {
        color: var(--text-secondary);
        font-size: 1.1rem;
        margin-bottom: 4px;
    }
    .profile-actions {
        display: flex;
        gap: 12px;
        margin-top: 16px;
    }
    .btn-success {
        background: var(--success-color) !important;
        color: #fff !important;
        border: none !important;
        border-radius: 6px;
        font-weight: 600;
        padding: 8px 20px;
    }
    .btn-success:hover {
        background: #059669 !important;
    }
    .btn-danger {
        background: var(--danger-color) !important;
        color: #fff !important;
        border: none !important;
        border-radius: 6px;
        font-weight: 600;
        padding: 8px 20px;
    }
    .btn-danger:hover {
        background: #b91c1c !important;
    }
    .btn-primary {
        background: var(--primary-color) !important;
        color: #fff !important;
        border: none !important;
        border-radius: 6px;
        font-weight: 600;
        padding: 8px 20px;
    }
    .btn-primary:hover {
        background: var(--secondary-color) !important;
    }
    .profile-subjects {
        display: flex;
        flex-wrap: wrap;
        gap: 12px;
        margin-top: 24px;
        margin-bottom: 16px;
    }
    .subject-tag {
        background: var(--accent-color);
        color: #fff;
        border-radius: 4px;
        padding: 4px 12px;
        font-size: 0.875rem;
        font-weight: 500;
        box-shadow: 0 1px 2px 0 rgba(59,130,246,0.10);
    }
</style>

<div class="profile-container">
    <div class="profile-card">
        <div class="profile-header">
            <div class="profile-avatar">
                <i class="bi bi-person"></i>
            </div>
            <div class="profile-info">
                <div class="profile-title">{{ teacher.personalprofile.get_names|title }}</div>
                <div class="profile-meta">TSC No: {{ teacher.id_number }}</div>
                <div class="profile-meta">Date Joined: {{ teacher.date|date:'d-m-Y' }}</div>
                <div class="profile-meta">Phone: {{ teacher.personalprofile.phone }}</div>
                <div class="profile-meta">Gender: {{ teacher.personalprofile.gender }}</div>
                <div class="profile-actions">
                    <a href="{% url 'update-profile' teacher.id %}" class="btn btn-success">Edit Profile</a>
                    {% if user.role == 'Supervisor' %}
                    <form method="post" style="display:inline;">
                        {% csrf_token %}
                        {% if teacher.is_active %}
                        <button class="btn btn-danger" name="archive">Deactivate</button>
                        {% else %}
                        <button class="btn btn-danger" name="delete">Delete</button>
                        <button class="btn btn-primary" name="restore">Restore</button>
                        {% endif %}
                    </form>
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="profile-subjects">
            {% for subject in teacher.teacherprofile.subject.all %}
                <span class="subject-tag">{{ subject }}</span>
            {% endfor %}
        </div>
    </div>
</div>
{% endblock %}